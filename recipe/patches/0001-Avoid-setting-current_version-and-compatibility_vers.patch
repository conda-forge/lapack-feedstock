From 5e6b8c392a6fb99a3f3ba8ece7501f2ae1aaf555 Mon Sep 17 00:00:00 2001
From: Isuru Fernando <isuruf@gmail.com>
Date: Thu, 22 Nov 2018 19:39:51 -0600
Subject: [PATCH] Avoid setting current_version and compatibility_version on
 OSX

---
 BLAS/SRC/CMakeLists.txt  | 2 --
 CBLAS/src/CMakeLists.txt | 2 --
 LAPACKE/CMakeLists.txt   | 2 --
 SRC/CMakeLists.txt       | 5 -----
 4 files changed, 11 deletions(-)

diff --git a/BLAS/SRC/CMakeLists.txt b/BLAS/SRC/CMakeLists.txt
index 9df128eb5..8e51adc43 100644
--- a/BLAS/SRC/CMakeLists.txt
+++ b/BLAS/SRC/CMakeLists.txt
@@ -150,8 +150,6 @@ add_library(${BLASLIB}
 
 set_target_properties(
   ${BLASLIB} PROPERTIES
-  VERSION ${LAPACK_VERSION}
-  SOVERSION ${LAPACK_MAJOR_VERSION}
   POSITION_INDEPENDENT_CODE ON
   )
 lapack_install_library(${BLASLIB})
diff --git a/CBLAS/src/CMakeLists.txt b/CBLAS/src/CMakeLists.txt
index 787638a2c..3b6d9db2d 100644
--- a/CBLAS/src/CMakeLists.txt
+++ b/CBLAS/src/CMakeLists.txt
@@ -165,8 +165,6 @@ add_library(${CBLASLIB}
 set_target_properties(
   ${CBLASLIB} PROPERTIES
   LINKER_LANGUAGE C
-  VERSION ${LAPACK_VERSION}
-  SOVERSION ${LAPACK_MAJOR_VERSION}
   POSITION_INDEPENDENT_CODE ON
   )
 if(HAS_ATTRIBUTE_WEAK_SUPPORT)
diff --git a/LAPACKE/CMakeLists.txt b/LAPACKE/CMakeLists.txt
index 1c56c0dcb..7853ebf37 100644
--- a/LAPACKE/CMakeLists.txt
+++ b/LAPACKE/CMakeLists.txt
@@ -71,8 +71,6 @@ add_library(${LAPACKELIB} ${SOURCES})
 set_target_properties(
   ${LAPACKELIB} PROPERTIES
   LINKER_LANGUAGE C
-  VERSION ${LAPACK_VERSION}
-  SOVERSION ${LAPACK_MAJOR_VERSION}
   )
 target_include_directories(${LAPACKELIB} PUBLIC
     $<BUILD_INTERFACE:${LAPACK_BINARY_DIR}/include>
diff --git a/SRC/CMakeLists.txt b/SRC/CMakeLists.txt
index 767165a5f..b3e84ba06 100644
--- a/SRC/CMakeLists.txt
+++ b/SRC/CMakeLists.txt
@@ -517,11 +517,6 @@ endif()
 list(REMOVE_DUPLICATES SOURCES)
 
 add_library(${LAPACKLIB} ${SOURCES})
-set_target_properties(
-  ${LAPACKLIB} PROPERTIES
-  VERSION ${LAPACK_VERSION}
-  SOVERSION ${LAPACK_MAJOR_VERSION}
-  )
 
 if( TEST_FORTRAN_COMPILER )
   add_dependencies( ${LAPACKLIB} run_test_zcomplexabs run_test_zcomplexdiv run_test_zcomplexmult run_test_zminMax )
