From 83bd877a87e6d2ad14ef83c8700ca5c45ea977a0 Mon Sep 17 00:00:00 2001
From: Isuru Fernando <isuruf@gmail.com>
Date: Thu, 22 Nov 2018 19:39:51 -0600
Subject: [PATCH 1/2] Avoid setting current_version and compatibility_version
 on OSX

---
 BLAS/SRC/CMakeLists.txt  | 5 -----
 CBLAS/src/CMakeLists.txt | 2 --
 LAPACKE/CMakeLists.txt   | 2 --
 SRC/CMakeLists.txt       | 5 -----
 4 files changed, 14 deletions(-)

diff --git a/BLAS/SRC/CMakeLists.txt b/BLAS/SRC/CMakeLists.txt
index 0078dca40..86cd4a004 100644
--- a/BLAS/SRC/CMakeLists.txt
+++ b/BLAS/SRC/CMakeLists.txt
@@ -98,9 +98,4 @@ endif()
 list(REMOVE_DUPLICATES SOURCES)
 
 add_library(${BLASLIB} ${SOURCES})
-set_target_properties(
-  ${BLASLIB} PROPERTIES
-  VERSION ${LAPACK_VERSION}
-  SOVERSION ${LAPACK_MAJOR_VERSION}
-  )
 lapack_install_library(${BLASLIB})
diff --git a/CBLAS/src/CMakeLists.txt b/CBLAS/src/CMakeLists.txt
index 1313e798b..ab5071ba1 100644
--- a/CBLAS/src/CMakeLists.txt
+++ b/CBLAS/src/CMakeLists.txt
@@ -117,8 +117,6 @@ add_library(${CBLASLIB} ${SOURCES})
 set_target_properties(
   ${CBLASLIB} PROPERTIES
   LINKER_LANGUAGE C
-  VERSION ${LAPACK_VERSION}
-  SOVERSION ${LAPACK_MAJOR_VERSION}
   )
 target_include_directories(${CBLASLIB} PUBLIC
   $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/../include>
diff --git a/LAPACKE/CMakeLists.txt b/LAPACKE/CMakeLists.txt
index 60d5ddbe3..e85eb1529 100644
--- a/LAPACKE/CMakeLists.txt
+++ b/LAPACKE/CMakeLists.txt
@@ -76,8 +76,6 @@ add_library(${LAPACKELIB} ${SOURCES})
 set_target_properties(
   ${LAPACKELIB} PROPERTIES
   LINKER_LANGUAGE C
-  VERSION ${LAPACK_VERSION}
-  SOVERSION ${LAPACK_MAJOR_VERSION}
   )
 target_include_directories(${LAPACKELIB} PUBLIC
   $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include>
diff --git a/SRC/CMakeLists.txt b/SRC/CMakeLists.txt
index bd3be3c6e..17dc82b07 100644
--- a/SRC/CMakeLists.txt
+++ b/SRC/CMakeLists.txt
@@ -501,11 +501,6 @@ endif()
 list(REMOVE_DUPLICATES SOURCES)
 
 add_library(${LAPACKLIB} ${SOURCES})
-set_target_properties(
-  ${LAPACKLIB} PROPERTIES
-  VERSION ${LAPACK_VERSION}
-  SOVERSION ${LAPACK_MAJOR_VERSION}
-  )
 
 if(USE_XBLAS)
   target_link_libraries(${LAPACKLIB} PRIVATE ${XBLAS_LIBRARY})
-- 
2.31.1.windows.1

